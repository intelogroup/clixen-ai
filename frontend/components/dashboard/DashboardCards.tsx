'use client';\n\n// Client-side dashboard cards for better performance\nimport { memo } from 'react';\nimport { Profile } from '@prisma/client';\n\ninterface DashboardCardsProps {\n  user: any;\n  profile: Profile | null;\n}\n\n// Memoized components for better re-render performance\nconst AccountOverviewCard = memo(({ user, profile }: DashboardCardsProps) => {\n  const trialDaysLeft = profile?.trialExpiresAt \n    ? Math.max(0, Math.ceil((new Date(profile.trialExpiresAt).getTime() - Date.now()) / (1000 * 60 * 60 * 24)))\n    : 0;\n\n  return (\n    <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n      <div className=\"p-6\">\n        <div className=\"flex items-center\">\n          <div className=\"flex-shrink-0\">\n            <span className=\"text-2xl\" role=\"img\" aria-label=\"User\">üë§</span>\n          </div>\n          <div className=\"ml-5 w-0 flex-1\">\n            <dl>\n              <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                Account Status\n              </dt>\n              <dd className=\"text-lg font-medium text-gray-900\">\n                {profile?.tier === 'FREE' ? 'Free Trial' : \n                 profile?.tier === 'STARTER' ? 'Starter Plan' : 'Pro Plan'}\n              </dd>\n            </dl>\n          </div>\n        </div>\n        <div className=\"mt-4\">\n          <div className=\"text-sm text-gray-600\">\n            <p><strong>Email:</strong> {user.primaryEmail}</p>\n            {profile?.tier === 'FREE' && (\n              <p><strong>Trial Days Left:</strong> {trialDaysLeft}</p>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nconst UsageStatsCard = memo(({ profile }: { profile: Profile | null }) => {\n  const usagePercentage = profile?.quotaLimit === -1 ? 0 : \n    Math.min(100, ((profile?.quotaUsed || 0) / (profile?.quotaLimit || 50)) * 100);\n\n  return (\n    <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n      <div className=\"p-6\">\n        <div className=\"flex items-center\">\n          <div className=\"flex-shrink-0\">\n            <span className=\"text-2xl\" role=\"img\" aria-label=\"Statistics\">üìä</span>\n          </div>\n          <div className=\"ml-5 w-0 flex-1\">\n            <dl>\n              <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                Usage This Month\n              </dt>\n              <dd className=\"text-lg font-medium text-gray-900\">\n                {profile?.quotaUsed || 0} / {profile?.quotaLimit === -1 ? '‚àû' : profile?.quotaLimit || 50}\n              </dd>\n            </dl>\n          </div>\n        </div>\n        <div className=\"mt-4\">\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n            <div\n              className=\"bg-indigo-600 h-2 rounded-full transition-all duration-300\"\n              style={{ width: `${usagePercentage}%` }}\n            ></div>\n          </div>\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Automation requests used\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nconst TelegramCard = memo(({ profile }: { profile: Profile | null }) => (\n  <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n    <div className=\"p-6\">\n      <div className=\"flex items-center\">\n        <div className=\"flex-shrink-0\">\n          <span className=\"text-2xl\" role=\"img\" aria-label=\"Chat\">üí¨</span>\n        </div>\n        <div className=\"ml-5 w-0 flex-1\">\n          <dl>\n            <dt className=\"text-sm font-medium text-gray-500 truncate\">\n              Telegram Bot\n            </dt>\n            <dd className=\"text-lg font-medium text-gray-900\">\n              {profile?.telegramChatId ? 'Connected' : 'Not Connected'}\n            </dd>\n          </dl>\n        </div>\n      </div>\n      <div className=\"mt-4\">\n        {profile?.telegramChatId ? (\n          <div className=\"text-green-600\">\n            <p className=\"text-sm\">‚úÖ Telegram account linked!</p>\n            <p className=\"text-xs text-gray-600 mt-2\">\n              Username: @{profile.telegramUsername || 'Unknown'}\n            </p>\n          </div>\n        ) : (\n          <div>\n            <p className=\"text-yellow-600 text-sm mb-2\">‚ö†Ô∏è Not linked</p>\n            <a\n              href=\"https://t.me/clixen_bot\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-xs bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded-md transition-colors\"\n            >\n              Connect to @clixen_bot\n            </a>\n          </div>\n        )}\n      </div>\n    </div>\n  </div>\n));\n\n// Main memoized dashboard cards component\nconst DashboardCards = memo(({ user, profile }: DashboardCardsProps) => {\n  return (\n    <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n      <AccountOverviewCard user={user} profile={profile} />\n      <UsageStatsCard profile={profile} />\n      <TelegramCard profile={profile} />\n    </div>\n  );\n});\n\n// Set display names for better debugging\nAccountOverviewCard.displayName = 'AccountOverviewCard';\nUsageStatsCard.displayName = 'UsageStatsCard';\nTelegramCard.displayName = 'TelegramCard';\nDashboardCards.displayName = 'DashboardCards';\n\nexport default DashboardCards;