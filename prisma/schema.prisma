// This is your Prisma schema file for n8n-mcp database integration

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:../node_modules/n8n-mcp/data/nodes.db"
}

model Node {
  nodeType          String   @id @map("node_type")
  packageName       String   @map("package_name")
  displayName       String   @map("display_name")
  description       String?
  category          String?
  developmentStyle  String?  @map("development_style")
  isAiTool          Int      @default(0) @map("is_ai_tool")
  isTrigger         Int      @default(0) @map("is_trigger")
  isWebhook         Int      @default(0) @map("is_webhook")
  isVersioned       Int      @default(0) @map("is_versioned")
  version           String?
  documentation     String?
  propertiesSchema  String?  @map("properties_schema")
  operations        String?
  credentialsRequired String? @map("credentials_required")
  outputs           String?
  outputNames       String?  @map("output_names")
  updatedAt         DateTime @default(now()) @map("updated_at")

  @@map("nodes")
}

model Template {
  id               Int      @id @default(autoincrement())
  workflowId       Int      @unique @map("workflow_id")
  name             String
  description      String?
  authorName       String?  @map("author_name")
  authorUsername   String?  @map("author_username")
  authorVerified   Int      @default(0) @map("author_verified")
  nodesUsed        String?  @map("nodes_used")
  workflowJson     String   @map("workflow_json")
  categories       String?
  views            Int      @default(0)
  createdAt        DateTime? @map("created_at")
  updatedAt        DateTime? @map("updated_at")
  url              String?
  scrapedAt        DateTime @default(now()) @map("scraped_at")

  @@map("templates")
}