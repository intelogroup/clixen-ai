(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{2898:function(e,a,t){"use strict";t.d(a,{Z:function(){return i}});var s=t(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,a)=>{let t=(0,s.forwardRef)(({color:t="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:c="",children:o,...m},x)=>(0,s.createElement)("svg",{ref:x,...r,width:i,height:i,stroke:t,strokeWidth:d?24*Number(n)/Number(i):n,className:["lucide",`lucide-${l(e)}`,c].join(" "),...m},[...a.map(([e,a])=>(0,s.createElement)(e,a)),...Array.isArray(o)?o:[o]]));return t.displayName=`${e}`,t}},4298:function(e,a,t){Promise.resolve().then(t.bind(t,2834))},2834:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return h}});var s=t(7437),r=t(2265),l=t(5922),i=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),d=(0,i.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),c=(0,i.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),o=(0,i.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m=(0,i.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),x=(0,i.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function h(){let[e,a]=(0,r.useState)(null),[t,i]=(0,r.useState)(null),[h,u]=(0,r.useState)(!0),[y,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),[f,j]=(0,r.useState)({full_name:"",email:""});(0,r.useEffect)(()=>{(async()=>{var e;let{data:{user:t}}=await l.O.auth.getUser();if(!t){window.location.href="/";return}a(t);let s={id:t.id,email:t.email||"",full_name:(null===(e=t.user_metadata)||void 0===e?void 0:e.full_name)||"",credits_remaining:100,tier:"free",api_key:"ap_test_"+Math.random().toString(36).substr(2,32),created_at:t.created_at||new Date().toISOString()};i(s),j({full_name:s.full_name||"",email:s.email}),u(!1)})()},[]);let N=async e=>{e.preventDefault(),p(!0);try{let{error:e}=await l.O.auth.updateUser({data:{full_name:f.full_name}});if(e)throw e;t&&i({...t,full_name:f.full_name}),alert("Profile updated successfully!")}catch(e){console.error("Error updating profile:",e.message),alert("Error updating profile: "+e.message)}finally{p(!1)}};return h?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center h-16",children:[(0,s.jsxs)("button",{onClick:()=>window.location.href="/dashboard",className:"flex items-center text-sm text-gray-700 hover:text-gray-900 transition-colors mr-4",children:[(0,s.jsx)(n,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"})]})})}),(0,s.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Personal Information"})}),(0,s.jsxs)("form",{onSubmit:N,className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,s.jsx)("input",{id:"email",type:"email",value:f.email,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Email cannot be changed."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,s.jsx)("input",{id:"full_name",type:"text",value:f.full_name,onChange:e=>j({...f,full_name:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Enter your full name"})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("button",{type:"submit",disabled:y,className:"btn-primary flex items-center disabled:opacity-50",children:[y?(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,s.jsx)(d,{className:"w-5 h-5 mr-2"}),y?"Saving...":"Save Changes"]})})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow mt-6",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"API Access"})}),(0,s.jsx)("div",{className:"p-6 space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)("input",{type:g?"text":"password",value:(null==t?void 0:t.api_key)||"",readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 font-mono text-sm"}),(0,s.jsx)("button",{type:"button",onClick:()=>b(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?(0,s.jsx)(c,{className:"w-5 h-5"}):(0,s.jsx)(o,{className:"w-5 h-5"})})]}),(0,s.jsxs)("button",{onClick:()=>{(null==t?void 0:t.api_key)&&(navigator.clipboard.writeText(t.api_key),alert("API key copied to clipboard!"))},className:"btn-secondary flex items-center",children:[(0,s.jsx)(m,{className:"w-4 h-4 mr-2"}),"Copy"]}),(0,s.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to regenerate your API key? This will invalidate the current key.")&&t&&(i({...t,api_key:"ap_test_"+Math.random().toString(36).substr(2,32)}),alert("API key regenerated!"))},className:"btn-secondary flex items-center",children:[(0,s.jsx)(x,{className:"w-4 h-4 mr-2"}),"Regenerate"]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Use this API key to authenticate your requests to the B2C Automation Platform API."})]})})]})]}),(0,s.jsxs)("div",{className:"lg:col-span-1",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Account Information"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Account Tier"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:null==t?void 0:t.tier})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Credits Remaining"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:null==t?void 0:t.credits_remaining})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Member Since"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:(null==t?void 0:t.created_at)?new Date(t.created_at).toLocaleDateString():"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 font-mono break-all",children:null==t?void 0:t.id})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow mt-6",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Account Actions"})}),(0,s.jsxs)("div",{className:"p-6 space-y-3",children:[(0,s.jsx)("button",{className:"w-full btn-secondary",children:"Download Data"}),(0,s.jsx)("button",{className:"w-full btn-secondary",children:"Change Password"}),(0,s.jsx)("button",{className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})]})]})})]})}},5922:function(e,a,t){"use strict";t.d(a,{O:function(){return s}});let s=(0,t(7440).eI)("https://efashzkgbougijqcbead.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmYXNoemtnYm91Z2lqcWNiZWFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4NzUxNTksImV4cCI6MjA3MTQ1MTE1OX0.b_COv-11Fm54SPdc_BpBwWCeCRvX82wf-721eIXT2DM",{auth:{autoRefreshToken:!0,persistSession:!0}})}},function(e){e.O(0,[872,971,938,744],function(){return e(e.s=4298)}),_N_E=e.O()}]);